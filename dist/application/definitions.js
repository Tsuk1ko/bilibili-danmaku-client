"use strict";

require("core-js/modules/es.array.map");

require("core-js/modules/es.object.assign");

/**
 * definitions.js describes the Definitions of Application Events.
 * For the concept of Definition, see compile.js.
 * For the concept of Application Events, see Wiki page 'Application Protocol'.
 *
 * This file does not contain much documentation because:
 * - It makes use of Tramsformer.js, compile.js and helpers.js, which are well-
 *   documented.
 * - The code of Definitions are very easy to read and understand.
 * - The details of how JSONs before transformation look like and how Events
 *   after transformation look like are documented in a separate Wiki page
 *   'Events'. That should be the first source of information, not this file.
 *
 * Therefore, the following transformers are NOT documented. My apologies.
 */
var _require = require('lodash'),
    fromPairs = _require.fromPairs;

var Transformer = require('./Transformer');

var compile = require('../util/compile');

var _require2 = require('../util/helpers'),
    asFlag = _require2.asFlag,
    onWhen = _require2.onWhen,
    on = _require2.on,
    onExist = _require2.onExist,
    spread = _require2.spread,
    spreadObj = _require2.spreadObj; // live start & end


var liveEnd = new Transformer('PREPARING', 'liveEnd', spreadObj(['roomid', parseInt, 'roomId']));
var liveStart = new Transformer('LIVE', 'liveStart', spreadObj(['roomid', parseInt, 'roomId'])); // danmaku

var danmaku = new Transformer('DANMU_MSG', 'danmaku', on(function (m) {
  return m.info;
}, {
  timestamp: function timestamp(i) {
    return i[0][3];
  },
  content: function content(i) {
    return i[1];
  },
  sender: on(function (i) {
    return i[2];
  }, spread('uid', 'name', ['isOwner', asFlag], ['isVip', asFlag], ['isSvip', asFlag])),
  badge: onExist(function (i) {
    return i[3];
  }, spread('level', 'name', 'owner', 'roomId')),
  ul: on(function (i) {
    return i[4];
  }, {
    ranking: function ranking(u) {
      return u[3];
    },
    level: function level(u) {
      return u[0];
    }
  }),
  medal: onExist(function (i) {
    return i[5];
  }, spread('first', 'second'))
})); // gift

var userSrc = spreadObj('face', 'uid', 'guard_level', ['uname', 0, 'name']);
var parseTopUser = compile(Object.assign({}, userSrc, {}, spreadObj('rank', ['score', 0, 'spentCoins'], ['isSelf', asFlag])));
var gift = new Transformer('SEND_GIFT', 'gift', on(function (m) {
  return m.data;
}, Object.assign({}, spreadObj('num', 'remain', 'action', 'timestamp', 'coin_type', 'total_coin', 'super_gift_num', 'effect_block'), {
  gift: spreadObj(['giftName', 0, 'name'], ['giftId', 0, 'id'], ['giftType', 0, 'type'], 'price'),
  sender: userSrc,
  left: onWhen(function (m) {
    return m;
  }, function (m) {
    return m.gold > 0 && m.silver > 0;
  }, spreadObj('gold', 'silver')),
  topList: function topList(d) {
    return d.top_list.map(parseTopUser);
  }
})));
var tempoStorm = new Transformer('SPECIAL_GIFT', 'tempoStorm', on(function (m) {
  return m.data[39];
}, Object.assign({}, spreadObj('action', 'id'), {
  storm: onWhen(function (d) {
    return d;
  }, function (d) {
    return d.action === 'start';
  }, spreadObj('content', 'time', 'storm_gif', ['hadJoin', 0, 'joined'], 'num'))
})));
var comboEnd = new Transformer('COMBO_END', 'comboEnd', on(function (m) {
  return m.data;
}, spreadObj('price', 'gift_id', 'gift_name', 'combo_num', 'price', 'gift_id', 'start_time', 'end_time', ['uname', 0, 'name'], ['r_uname', 0, 'owner']))); // broadcast message

var guardMsg = new Transformer('GUARD_MSG', 'guardMsg', spreadObj('msg', ['buy_type', 0, 'guardLevel']));
var sysMsg = new Transformer('SYS_MSG', 'sysMsg', spreadObj('msg', 'rep', 'styleType', 'url', 'msg_text', ['real_roomid', 0, 'realRoomId'], ['roomid', 0, 'roomId'])); // welcome

var welcomeVip = new Transformer('WELCOME', 'welcomeVip', on(function (m) {
  return m.data;
}, Object.assign({}, spreadObj('uid', ['uname', 0, 'name'], ['is_admin', asFlag]), {
  isVip: function isVip(d) {
    return 'vip' in d && d.vip === 1 || 'svip' in d && d.svip === 1;
  },
  isSvip: function isSvip(d) {
    return 'svip' in d && d.svip === 1;
  }
})));
var welcomeGuard = new Transformer('WELCOME_GUARD', 'welcomeGuard', on(function (m) {
  return m.data;
}, spreadObj('uid', 'guard_level', ['username', 0, 'name']))); // events

var wishBottle = new Transformer('WISH_BOTTLE', 'wishBottle', on(function (m) {
  return m.data;
}, Object.assign({}, spreadObj('action', 'id'), {
  wish: on(function (m) {
    return m.wish;
  }, spreadObj('content', 'status', 'type', 'type_id', 'uid', 'wish_limit', 'wish_progress', 'count_map', ['ctime', function (str) {
    return new Date(str).getTime();
  }, 'timestamp'], ['uid', 0, 'anchor']))
})));
var roomRank = new Transformer('ROOM_RANK', 'roomRank', on(function (m) {
  return m.data;
}, spreadObj('timestamp', 'color', 'h5_url', 'web_url', ['roomid', 0, 'roomId'], ['rank_desc', 0, 'rank'])));
var guardBuy = new Transformer('GUARD_BUY', 'guardBuy', Object.assign({}, on(function (m) {
  return m.data;
}, Object.assign({}, spreadObj('guard_level', 'num'), {
  buyer: spreadObj(['username', undefined, function () {
    return 'name';
  }], 'uid')
})), {}, spreadObj(['roomid', parseInt, function () {
  return 'roomId';
}]))); // blocking

var blockUser = new Transformer('ROOM_BLOCK_MSG', 'blockUser', {
  roomId: function roomId(m) {
    return m.roomid;
  },
  blocked: spreadObj(['uid', parseInt], ['uname', 0, 'name'])
});
var silentOn = new Transformer('ROOM_SILENT_ON', 'silentOn', function (msg) {
  return Object.assign({
    roomId: msg.roomid
  }, on(function (m) {
    return m.data;
  }, function (data) {
    return Object.assign({}, compile(spreadObj('type', 'second'))(data), {}, onWhen(function (d) {
      return d;
    }, function (d) {
      return d.type === 'level';
    }, spreadObj('level'))(data));
  })(msg));
});
var silentOff = new Transformer('ROOM_SILENT_OFF', 'silentOff', spreadObj(['roomid', parseInt, 'roomId']));
var popularity = new Transformer('POPULARITY', 'popularity', {
  count: function count(d) {
    return d.data && d.data.count || 0;
  }
});
var transformers = [liveStart, liveEnd, danmaku, gift, tempoStorm, comboEnd, guardMsg, sysMsg, welcomeVip, welcomeGuard, wishBottle, roomRank, guardBuy, blockUser, silentOn, silentOff, popularity];
var registry = fromPairs(transformers.map(function (t) {
  return [t.cmd, t];
}));
module.exports = {
  transformers,
  registry
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9hcHBsaWNhdGlvbi9kZWZpbml0aW9ucy5qcyJdLCJuYW1lcyI6WyJyZXF1aXJlIiwiZnJvbVBhaXJzIiwiVHJhbnNmb3JtZXIiLCJjb21waWxlIiwiYXNGbGFnIiwib25XaGVuIiwib24iLCJvbkV4aXN0Iiwic3ByZWFkIiwic3ByZWFkT2JqIiwibGl2ZUVuZCIsInBhcnNlSW50IiwibGl2ZVN0YXJ0IiwiZGFubWFrdSIsIm0iLCJpbmZvIiwidGltZXN0YW1wIiwiaSIsImNvbnRlbnQiLCJzZW5kZXIiLCJiYWRnZSIsInVsIiwicmFua2luZyIsInUiLCJsZXZlbCIsIm1lZGFsIiwidXNlclNyYyIsInBhcnNlVG9wVXNlciIsImdpZnQiLCJkYXRhIiwibGVmdCIsImdvbGQiLCJzaWx2ZXIiLCJ0b3BMaXN0IiwiZCIsInRvcF9saXN0IiwibWFwIiwidGVtcG9TdG9ybSIsInN0b3JtIiwiYWN0aW9uIiwiY29tYm9FbmQiLCJndWFyZE1zZyIsInN5c01zZyIsIndlbGNvbWVWaXAiLCJpc1ZpcCIsInZpcCIsInN2aXAiLCJpc1N2aXAiLCJ3ZWxjb21lR3VhcmQiLCJ3aXNoQm90dGxlIiwid2lzaCIsInN0ciIsIkRhdGUiLCJnZXRUaW1lIiwicm9vbVJhbmsiLCJndWFyZEJ1eSIsImJ1eWVyIiwidW5kZWZpbmVkIiwiYmxvY2tVc2VyIiwicm9vbUlkIiwicm9vbWlkIiwiYmxvY2tlZCIsInNpbGVudE9uIiwibXNnIiwidHlwZSIsInNpbGVudE9mZiIsInBvcHVsYXJpdHkiLCJjb3VudCIsInRyYW5zZm9ybWVycyIsInJlZ2lzdHJ5IiwidCIsImNtZCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOzs7Ozs7Ozs7Ozs7Ozs7ZUFnQnNCQSxPQUFPLENBQUMsUUFBRCxDO0lBQXJCQyxTLFlBQUFBLFM7O0FBRVIsSUFBTUMsV0FBVyxHQUFHRixPQUFPLENBQUMsZUFBRCxDQUEzQjs7QUFDQSxJQUFNRyxPQUFPLEdBQUdI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QUYsQ0FHQ2tDLEdBSEQsQ0FGMkQ7QUFBQSxDQUFqRCxDQUFqQjtBQU9BLElBQU1FLFNBQVMsR0FBRyxJQUFJL0QsV0FBSixDQUFnQixpQkFBaEIsRUFBbUMsV0FBbkMsRUFBZ0RPLFNBQVMsQ0FBQyxDQUFDLFFBQUQsRUFBV0UsUUFBWCxFQUFxQixRQUFyQixDQUFELENBQXpELENBQWxCO0FBQ0EsSUFBTXVELFVBQVUsR0FBRyxJQUFJaEUsV0FBSixDQUFnQixZQUFoQixFQUE4QixZQUE5QixFQUE0QztBQUMzRGlFLEVBQUFBLEtBQUssRUFBRSxlQUFBakMsQ0FBQztBQUFBLFdBQUtBLENBQUMsQ0FBQ0wsSUFBRixJQUFVSyxDQUFDLENBQUNMLElBQUYsQ0FBT3NDLEtBQWxCLElBQTRCLENBQWhDO0FBQUE7QUFEbUQsQ0FBNUMsQ0FBbkI7QUFJQSxJQUFNQyxZQUFZLEdBQUcsQ0FDakJ4RCxTQURpQixFQUVqQkYsT0FGaUIsRUFHakJHLE9BSGlCLEVBSWpCZSxJQUppQixFQUtqQlMsVUFMaUIsRUFNakJHLFFBTmlCLEVBT2pCQyxRQVBpQixFQVFqQkMsTUFSaUIsRUFTakJDLFVBVGlCLEVBVWpCSyxZQVZpQixFQVdqQkMsVUFYaUIsRUFZakJLLFFBWmlCLEVBYWpCQyxRQWJpQixFQWNqQkcsU0FkaUIsRUFlakJJLFFBZmlCLEVBZ0JqQkcsU0FoQmlCLEVBaUJqQkMsVUFqQmlCLENBQXJCO0FBbUJBLElBQU1HLFFBQVEsR0FBR3BFLFNBQVMsQ0FBQ21FLFlBQVksQ0FBQ2hDLEdBQWIsQ0FBaUIsVUFBQWtDLENBQUM7QUFBQSxTQUFJLENBQUNBLENBQUMsQ0FBQ0MsR0FBSCxFQUFRRCxDQUFSLENBQUo7QUFBQSxDQUFsQixDQUFELENBQTFCO0FBRUFFLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtBQUFFTCxFQUFBQSxZQUFGO0FBQWdCQyxFQUFBQTtBQUFoQixDQUFqQiIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBkZWZpbml0aW9ucy5qcyBkZXNjcmliZXMgdGhlIERlZmluaXRpb25zIG9mIEFwcGxpY2F0aW9uIEV2ZW50cy5cclxuICogRm9yIHRoZSBjb25jZXB0IG9mIERlZmluaXRpb24sIHNlZSBjb21waWxlLmpzLlxyXG4gKiBGb3IgdGhlIGNvbmNlcHQgb2YgQXBwbGljYXRpb24gRXZlbnRzLCBzZWUgV2lraSBwYWdlICdBcHBsaWNhdGlvbiBQcm90b2NvbCcuXHJcbiAqXHJcbiAqIFRoaXMgZmlsZSBkb2VzIG5vdCBjb250YWluIG11Y2ggZG9jdW1lbnRhdGlvbiBiZWNhdXNlOlxyXG4gKiAtIEl0IG1ha2VzIHVzZSBvZiBUcmFtc2Zvcm1lci5qcywgY29tcGlsZS5qcyBhbmQgaGVscGVycy5qcywgd2hpY2ggYXJlIHdlbGwtXHJcbiAqICAgZG9jdW1lbnRlZC5cclxuICogLSBUaGUgY29kZSBvZiBEZWZpbml0aW9ucyBhcmUgdmVyeSBlYXN5IHRvIHJlYWQgYW5kIHVuZGVyc3RhbmQuXHJcbiAqIC0gVGhlIGRldGFpbHMgb2YgaG93IEpTT05zIGJlZm9yZSB0cmFuc2Zvcm1hdGlvbiBsb29rIGxpa2UgYW5kIGhvdyBFdmVudHNcclxuICogICBhZnRlciB0cmFuc2Zvcm1hdGlvbiBsb29rIGxpa2UgYXJlIGRvY3VtZW50ZWQgaW4gYSBzZXBhcmF0ZSBXaWtpIHBhZ2VcclxuICogICAnRXZlbnRzJy4gVGhhdCBzaG91bGQgYmUgdGhlIGZpcnN0IHNvdXJjZSBvZiBpbmZvcm1hdGlvbiwgbm90IHRoaXMgZmlsZS5cclxuICpcclxuICogVGhlcmVmb3JlLCB0aGUgZm9sbG93aW5nIHRyYW5zZm9ybWVycyBhcmUgTk9UIGRvY3VtZW50ZWQuIE15IGFwb2xvZ2llcy5cclxuICovXHJcblxyXG5jb25zdCB7IGZyb21QYWlycyB9ID0gcmVxdWlyZSgnbG9kYXNoJyk7XHJcblxyXG5jb25zdCBUcmFuc2Zvcm1lciA9IHJlcXVpcmUoJy4vVHJhbnNmb3JtZXInKTtcclxuY29uc3QgY29tcGlsZSA9IHJlcXVpcmUoJy4uL3V0aWwvY29tcGlsZScpO1xyXG5jb25zdCB7IGFzRmxhZywgb25XaGVuLCBvbiwgb25FeGlzdCwgc3ByZWFkLCBzcHJlYWRPYmogfSA9IHJlcXVpcmUoJy4uL3V0aWwvaGVscGVycycpO1xyXG5cclxuLy8gbGl2ZSBzdGFydCAmIGVuZFxyXG5jb25zdCBsaXZlRW5kID0gbmV3IFRyYW5zZm9ybWVyKCdQUkVQQVJJTkcnLCAnbGl2ZUVuZCcsIHNwcmVhZE9iaihbJ3Jvb21pZCcsIHBhcnNlSW50LCAncm9vbUlkJ10pKTtcclxuY29uc3QgbGl2ZVN0YXJ0ID0gbmV3IFRyYW5zZm9ybWVyKCdMSVZFJywgJ2xpdmVTdGFydCcsIHNwcmVhZE9iaihbJ3Jvb21pZCcsIHBhcnNlSW50LCAncm9vbUlkJ10pKTtcclxuXHJcbi8vIGRhbm1ha3VcclxuY29uc3QgZGFubWFrdSA9IG5ldyBUcmFuc2Zvcm1lcignREFOTVVfTVNHJywgJ2Rhbm1ha3UnLCBvbihtID0+IG0uaW5mbywge1xyXG4gICAgdGltZXN0YW1wOiBpID0+IGlbMF1bM10sXHJcbiAgICBjb250ZW50OiBpID0+IGlbMV0sXHJcbiAgICBzZW5kZXI6IG9uKGkgPT4gaVsyXSwgc3ByZWFkKCd1aWQnLCAnbmFtZScsIFsnaXNPd25lcicsIGFzRmxhZ10sIFsnaXNWaXAnLCBhc0ZsYWddLCBbJ2lzU3ZpcCcsIGFzRmxhZ10pKSxcclxuICAgIGJhZGdlOiBvbkV4aXN0KGkgPT4gaVszXSwgc3ByZWFkKCdsZXZlbCcsICduYW1lJywgJ293bmVyJywgJ3Jvb21JZCcpKSxcclxuICAgIHVsOiBvbihpID0+IGlbNF0sIHtcclxuICAgICAgICByYW5raW5nOiB1ID0+IHVbM10sXHJcbiAgICAgICAgbGV2ZWw6IHUgPT4gdVswXSxcclxuICAgIH0pLFxyXG4gICAgbWVkYWw6IG9uRXhpc3QoaSA9PiBpWzVdLCBzcHJlYWQoJ2ZpcnN0JywgJ3NlY29uZCcpKSxcclxufSkpO1xyXG5cclxuLy8gZ2lmdFxyXG5jb25zdCB1c2VyU3JjID0gc3ByZWFkT2JqKCdmYWNlJywgJ3VpZCcsICdndWFyZF9sZXZlbCcsIFsndW5hbWUnLCAwLCAnbmFtZSddKTtcclxuY29uc3QgcGFyc2VUb3BVc2VyID0gY29tcGlsZSh7XHJcbiAgICAuLi51c2VyU3JjLCAuLi5zcHJlYWRPYmooJ3JhbmsnLCBbJ3Njb3JlJywgMCwgJ3NwZW50Q29pbnMnXSwgWydpc1NlbGYnLCBhc0ZsYWddKSxcclxufSk7XHJcbmNvbnN0IGdpZnQgPSBuZXcgVHJhbnNmb3JtZXIoJ1NFTkRfR0lGVCcsICdnaWZ0Jywgb24obSA9PiBtLmRhdGEsIHtcclxuICAgIC4uLnNwcmVhZE9iaihcclxuICAgICAgICAnbnVtJywgJ3JlbWFpbicsICdhY3Rpb24nLCAndGltZXN0YW1wJywgJ2NvaW5fdHlwZScsICd0b3RhbF9jb2luJywgJ3N1cGVyX2dpZnRfbnVtJywgJ2VmZmVjdF9ibG9jaycsXHJcbiAgICApLFxyXG4gICAgZ2lmdDogc3ByZWFkT2JqKFsnZ2lmdE5hbWUnLCAwLCAnbmFtZSddLCBbJ2dpZnRJZCcsIDAsICdpZCddLCBbJ2dpZnRUeXBlJywgMCwgJ3R5cGUnXSwgJ3ByaWNlJyksXHJcbiAgICBzZW5kZXI6IHVzZXJTcmMsXHJcbiAgICBsZWZ0OiBvbldoZW4obSA9PiBtLCBtID0+IG0uZ29sZCA+IDAgJiYgbS5zaWx2ZXIgPiAwLCBzcHJlYWRPYmooJ2dvbGQnLCAnc2lsdmVyJykpLFxyXG4gICAgdG9wTGlzdDogZCA9PiBkLnRvcF9saXN0Lm1hcChwYXJzZVRvcFVzZXIpLFxyXG59KSk7XHJcbmNvbnN0IHRlbXBvU3Rvcm0gPSBuZXcgVHJhbnNmb3JtZXIoJ1NQRUNJQUxfR0lGVCcsICd0ZW1wb1N0b3JtJywgb24obSA9PiBtLmRhdGFbMzldLCB7XHJcbiAgICAuLi5zcHJlYWRPYmooJ2FjdGlvbicsICdpZCcpLFxyXG4gICAgc3Rvcm06IG9uV2hlbihkID0+IGQsIGQgPT4gZC5hY3Rpb24gPT09ICdzdGFydCcsIHNwcmVhZE9iaihcclxuICAgICAgICAnY29udGVudCcsICd0aW1lJywgJ3N0b3JtX2dpZicsIFsnaGFkSm9pbicsIDAsICdqb2luZWQnXSwgJ251bScsXHJcbiAgICApKSxcclxufSkpO1xyXG5jb25zdCBjb21ib0VuZCA9IG5ldyBUcmFuc2Zvcm1lcignQ09NQk9fRU5EJywgJ2NvbWJvRW5kJywgb24obSA9PiBtLmRhdGEsIHNwcmVhZE9iaihcclxuICAgICdwcmljZScsICdnaWZ0X2lkJywgJ2dpZnRfbmFtZScsICdjb21ib19udW0nLCAncHJpY2UnLCAnZ2lmdF9pZCcsICdzdGFydF90aW1lJywgJ2VuZF90aW1lJyxcclxuICAgIFsndW5hbWUnLCAwLCAnbmFtZSddLCBbJ3JfdW5hbWUnLCAwLCAnb3duZXInXSxcclxuKSkpO1xyXG5cclxuLy8gYnJvYWRjYXN0IG1lc3NhZ2VcclxuY29uc3QgZ3VhcmRNc2cgPSBuZXcgVHJhbnNmb3JtZXIoJ0dVQVJEX01TRycsICdndWFyZE1zZycsIHNwcmVhZE9iaignbXNnJywgWydidXlfdHlwZScsIDAsICdndWFyZExldmVsJ10pKTtcclxuY29uc3Qgc3lzTXNnID0gbmV3IFRyYW5zZm9ybWVyKCdTWVNfTVNHJywgJ3N5c01zZycsIHNwcmVhZE9iaihcclxuICAgICdtc2cnLCAncmVwJywgJ3N0eWxlVHlwZScsICd1cmwnLCAnbXNnX3RleHQnLFxyXG4gICAgWydyZWFsX3Jvb21pZCcsIDAsICdyZWFsUm9vbUlkJ10sIFsncm9vbWlkJywgMCwgJ3Jvb21JZCddLFxyXG4pKTtcclxuXHJcbi8vIHdlbGNvbWVcclxuY29uc3Qgd2VsY29tZVZpcCA9IG5ldyBUcmFuc2Zvcm1lcignV0VMQ09NRScsICd3ZWxjb21lVmlwJywgb24obSA9PiBtLmRhdGEsIHtcclxuICAgIC4uLnNwcmVhZE9iaigndWlkJywgWyd1bmFtZScsIDAsICduYW1lJ10sIFsnaXNfYWRtaW4nLCBhc0ZsYWddKSxcclxuICAgIGlzVmlwOiBkID0+ICgndmlwJyBpbiBkICYmIGQudmlwID09PSAxKSB8fCAoJ3N2aXAnIGluIGQgJiYgZC5zdmlwID09PSAxKSxcclxuICAgIGlzU3ZpcDogZCA9PiAoJ3N2aXAnIGluIGQgJiYgZC5zdmlwID09PSAxKSxcclxufSkpO1xyXG5jb25zdCB3ZWxjb21lR3VhcmQgPSBuZXcgVHJhbnNmb3JtZXIoJ1dFTENPTUVfR1VBUkQnLCAnd2VsY29tZUd1YXJkJywgb24obSA9PiBtLmRhdGEsIHNwcmVhZE9iaihcclxuICAgICd1aWQnLCAnZ3VhcmRfbGV2ZWwnLCBbJ3VzZXJuYW1lJywgMCwgJ25hbWUnXSxcclxuKSkpO1xyXG5cclxuLy8gZXZlbnRzXHJcbmNvbnN0IHdpc2hCb3R0bGUgPSBuZXcgVHJhbnNmb3JtZXIoJ1dJU0hfQk9UVExFJywgJ3dpc2hCb3R0bGUnLCBvbihtID0+IG0uZGF0YSwge1xyXG4gICAgLi4uc3ByZWFkT2JqKCdhY3Rpb24nLCAnaWQnKSxcclxuICAgIHdpc2g6IG9uKG0gPT4gbS53aXNoLCBzcHJlYWRPYmooXHJcbiAgICAgICAgJ2NvbnRlbnQnLCAnc3RhdHVzJywgJ3R5cGUnLCAndHlwZV9pZCcsICd1aWQnLCAnd2lzaF9saW1pdCcsICd3aXNoX3Byb2dyZXNzJywgJ2NvdW50X21hcCcsXHJcbiAgICAgICAgWydjdGltZScsIHN0ciA9PiBuZXcgRGF0ZShzdHIpLmdldFRpbWUoKSwgJ3RpbWVzdGFtcCddLCBbJ3VpZCcsIDAsICdhbmNob3InXSxcclxuICAgICkpLFxyXG59KSk7XHJcbmNvbnN0IHJvb21SYW5rID0gbmV3IFRyYW5zZm9ybWVyKCdST09NX1JBTksnLCAncm9vbVJhbmsnLCBvbihtID0+IG0uZGF0YSwgc3ByZWFkT2JqKFxyXG4gICAgJ3RpbWVzdGFtcCcsICdjb2xvcicsICdoNV91cmwnLCAnd2ViX3VybCcsIFsncm9vbWlkJywgMCwgJ3Jvb21JZCddLCBbJ3JhbmtfZGVzYycsIDAsICdyYW5rJ10sXHJcbikpKTtcclxuY29uc3QgZ3VhcmRCdXkgPSBuZXcgVHJhbnNmb3JtZXIoJ0dVQVJEX0JVWScsICdndWFyZEJ1eScsIHtcclxuICAgIC4uLm9uKG0gPT4gbS5kYXRhLCB7XHJcbiAgICAgICAgLi4uc3ByZWFkT2JqKCdndWFyZF9sZXZlbCcsICdudW0nKSxcclxuICAgICAgICBidXllcjogc3ByZWFkT2JqKFsndXNlcm5hbWUnLCB1bmRlZmluZWQsICgpID0+ICduYW1lJ10sICd1aWQnKSxcclxuICAgIH0pLFxyXG4gICAgLi4uc3ByZWFkT2JqKFsncm9vbWlkJywgcGFyc2VJbnQsICgpID0+ICdyb29tSWQnXSksXHJcbn0pO1xyXG5cclxuLy8gYmxvY2tpbmdcclxuY29uc3QgYmxvY2tVc2VyID0gbmV3IFRyYW5zZm9ybWVyKCdST09NX0JMT0NLX01TRycsICdibG9ja1VzZXInLCB7XHJcbiAgICByb29tSWQ6IG0gPT4gbS5yb29taWQsIGJsb2NrZWQ6IHNwcmVhZE9iaihbJ3VpZCcsIHBhcnNlSW50XSwgWyd1bmFtZScsIDAsICduYW1lJ10pLFxyXG59KTtcclxuY29uc3Qgc2lsZW50T24gPSBuZXcgVHJhbnNmb3JtZXIoJ1JPT01fU0lMRU5UX09OJywgJ3NpbGVudE9uJywgbXNnID0+ICh7XHJcbiAgICByb29tSWQ6IG1zZy5yb29taWQsXHJcbiAgICAuLi5vbihtID0+IG0uZGF0YSwgZGF0YSA9PiAoe1xyXG4gICAgICAgIC4uLmNvbXBpbGUoc3ByZWFkT2JqKCd0eXBlJywgJ3NlY29uZCcpKShkYXRhKSxcclxuICAgICAgICAuLi5vbldoZW4oZCA9PiBkLCBkID0+IGQudHlwZSA9PT0gJ2xldmVsJywgc3ByZWFkT2JqKCdsZXZlbCcpKShkYXRhKSxcclxuICAgIH0pKShtc2cpLFxyXG59KSk7XHJcbmNvbnN0IHNpbGVudE9mZiA9IG5ldyBUcmFuc2Zvcm1lcignUk9PTV9TSUxFTlRfT0ZGJywgJ3NpbGVudE9mZicsIHNwcmVhZE9iaihbJ3Jvb21pZCcsIHBhcnNlSW50LCAncm9vbUlkJ10pKTtcclxuY29uc3QgcG9wdWxhcml0eSA9IG5ldyBUcmFuc2Zvcm1lcignUE9QVUxBUklUWScsICdwb3B1bGFyaXR5Jywge1xyXG4gICAgY291bnQ6IGQgPT4gKGQuZGF0YSAmJiBkLmRhdGEuY291bnQpIHx8IDAsXHJcbn0pO1xyXG5cclxuY29uc3QgdHJhbnNmb3JtZXJzID0gW1xyXG4gICAgbGl2ZVN0YXJ0LFxyXG4gICAgbGl2ZUVuZCxcclxuICAgIGRhbm1ha3UsXHJcbiAgICBnaWZ0LFxyXG4gICAgdGVtcG9TdG9ybSxcclxuICAgIGNvbWJvRW5kLFxyXG4gICAgZ3VhcmRNc2csXHJcbiAgICBzeXNNc2csXHJcbiAgICB3ZWxjb21lVmlwLFxyXG4gICAgd2VsY29tZUd1YXJkLFxyXG4gICAgd2lzaEJvdHRsZSxcclxuICAgIHJvb21SYW5rLFxyXG4gICAgZ3VhcmRCdXksXHJcbiAgICBibG9ja1VzZXIsXHJcbiAgICBzaWxlbnRPbixcclxuICAgIHNpbGVudE9mZixcclxuICAgIHBvcHVsYXJpdHksXHJcbl07XHJcbmNvbnN0IHJlZ2lzdHJ5ID0gZnJvbVBhaXJzKHRyYW5zZm9ybWVycy5tYXAodCA9PiBbdC5jbWQsIHRdKSk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHsgdHJhbnNmb3JtZXJzLCByZWdpc3RyeSB9O1xyXG4iXX0=