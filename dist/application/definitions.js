"use strict";

require("core-js/modules/es6.object.assign");

/**
 * definitions.js describes the Definitions of Application Events.
 * For the concept of Definition, see compile.js.
 * For the concept of Application Events, see Wiki page 'Application Protocol'.
 *
 * This file does not contain much documentation because:
 * - It makes use of Tramsformer.js, compile.js and helpers.js, which are well-
 *   documented.
 * - The code of Definitions are very easy to read and understand.
 * - The details of how JSONs before transformation look like and how Events
 *   after transformation look like are documented in a separate Wiki page
 *   'Events'. That should be the first source of information, not this file.
 *
 * Therefore, the following transformers are NOT documented. My apologies.
 */
var _require = require('lodash'),
    fromPairs = _require.fromPairs;

var Transformer = require('./Transformer');

var compile = require('../util/compile');

var _require2 = require('../util/helpers'),
    asFlag = _require2.asFlag,
    onWhen = _require2.onWhen,
    on = _require2.on,
    onExist = _require2.onExist,
    spread = _require2.spread,
    spreadObj = _require2.spreadObj; // live start & end


var liveEnd = new Transformer('PREPARING', 'liveEnd', spreadObj(['roomid', parseInt, 'roomId']));
var liveStart = new Transformer('LIVE', 'liveStart', spreadObj(['roomid', parseInt, 'roomId'])); // danmaku

var danmaku = new Transformer('DANMU_MSG', 'danmaku', on(function (m) {
  return m.info;
}, {
  timestamp: function timestamp(i) {
    return i[0][3];
  },
  content: function content(i) {
    return i[1];
  },
  sender: on(function (i) {
    return i[2];
  }, spread('uid', 'name', ['isOwner', asFlag], ['isVip', asFlag], ['isSvip', asFlag])),
  badge: onExist(function (i) {
    return i[3];
  }, spread('level', 'name', 'owner', 'roomId')),
  ul: on(function (i) {
    return i[4];
  }, {
    ranking: function ranking(u) {
      return u[3];
    },
    level: function level(u) {
      return u[0];
    }
  }),
  medal: onExist(function (i) {
    return i[5];
  }, spread('first', 'second'))
})); // gift

var userSrc = spreadObj('face', 'uid', 'guard_level', ['uname', 0, 'name']);
var parseTopUser = compile(Object.assign({}, userSrc, {}, spreadObj('rank', ['score', 0, 'spentCoins'], ['isSelf', asFlag])));
var gift = new Transformer('SEND_GIFT', 'gift', on(function (m) {
  return m.data;
}, Object.assign({}, spreadObj('num', 'remain', 'action', 'timestamp', 'coin_type', 'total_coin', 'super_gift_num', 'effect_block'), {
  gift: spreadObj(['giftName', 0, 'name'], ['giftId', 0, 'id'], ['giftType', 0, 'type'], 'price'),
  sender: userSrc,
  left: onWhen(function (m) {
    return m;
  }, function (m) {
    return m.gold > 0 && m.silver > 0;
  }, spreadObj('gold', 'silver')),
  topList: function topList(d) {
    return d.top_list.map(parseTopUser);
  }
})));
var tempoStorm = new Transformer('SPECIAL_GIFT', 'tempoStorm', on(function (m) {
  return m.data[39];
}, Object.assign({}, spreadObj('action', 'id'), {
  storm: onWhen(function (d) {
    return d;
  }, function (d) {
    return d.action === 'start';
  }, spreadObj('content', 'time', 'storm_gif', ['hadJoin', 0, 'joined'], 'num'))
})));
var comboEnd = new Transformer('COMBO_END', 'comboEnd', on(function (m) {
  return m.data;
}, spreadObj('price', 'gift_id', 'gift_name', 'combo_num', 'price', 'gift_id', 'start_time', 'end_time', ['uname', 0, 'name'], ['r_uname', 0, 'owner']))); // broadcast message

var guardMsg = new Transformer('GUARD_MSG', 'guardMsg', spreadObj('msg', ['buy_type', 0, 'guardLevel']));
var sysMsg = new Transformer('SYS_MSG', 'sysMsg', spreadObj('msg', 'rep', 'styleType', 'url', 'msg_text', ['real_roomid', 0, 'realRoomId'], ['roomid', 0, 'roomId'])); // welcome

var welcomeVip = new Transformer('WELCOME', 'welcomeVip', on(function (m) {
  return m.data;
}, Object.assign({}, spreadObj('uid', ['uname', 0, 'name'], ['is_admin', asFlag]), {
  isVip: function isVip(d) {
    return 'vip' in d && d.vip === 1 || 'svip' in d && d.svip === 1;
  },
  isSvip: function isSvip(d) {
    return 'svip' in d && d.svip === 1;
  }
})));
var welcomeGuard = new Transformer('WELCOME_GUARD', 'welcomeGuard', on(function (m) {
  return m.data;
}, spreadObj('uid', 'guard_level', ['username', 0, 'name']))); // events

var wishBottle = new Transformer('WISH_BOTTLE', 'wishBottle', on(function (m) {
  return m.data;
}, Object.assign({}, spreadObj('action', 'id'), {
  wish: on(function (m) {
    return m.wish;
  }, spreadObj('content', 'status', 'type', 'type_id', 'uid', 'wish_limit', 'wish_progress', 'count_map', ['ctime', function (str) {
    return new Date(str).getTime();
  }, 'timestamp'], ['uid', 0, 'anchor']))
})));
var roomRank = new Transformer('ROOM_RANK', 'roomRank', on(function (m) {
  return m.data;
}, spreadObj('timestamp', 'color', 'h5_url', 'web_url', ['roomid', 0, 'roomId'], ['rank_desc', 0, 'rank'])));
var guardBuy = new Transformer('GUARD_BUY', 'guardBuy', Object.assign({}, on(function (m) {
  return m.data;
}, Object.assign({}, spreadObj('guard_level', 'num'), {
  buyer: spreadObj(['username', undefined, function () {
    return 'name';
  }], 'uid')
})), {}, spreadObj(['roomid', parseInt, function () {
  return 'roomId';
}]))); // blocking

var blockUser = new Transformer('ROOM_BLOCK_MSG', 'blockUser', {
  roomId: function roomId(m) {
    return m.roomid;
  },
  blocked: spreadObj(['uid', parseInt], ['uname', 0, 'name'])
});
var silentOn = new Transformer('ROOM_SILENT_ON', 'silentOn', function (msg) {
  return Object.assign({
    roomId: msg.roomid
  }, on(function (m) {
    return m.data;
  }, function (data) {
    return Object.assign({}, compile(spreadObj('type', 'second'))(data), {}, onWhen(function (d) {
      return d;
    }, function (d) {
      return d.type === 'level';
    }, spreadObj('level'))(data));
  })(msg));
});
var silentOff = new Transformer('ROOM_SILENT_OFF', 'silentOff', spreadObj(['roomid', parseInt, 'roomId']));
var popularity = new Transformer('POPULARITY', 'popularity', {
  count: function count(d) {
    return d.data && d.data.count || 0;
  }
});
var transformers = [liveStart, liveEnd, danmaku, gift, tempoStorm, comboEnd, guardMsg, sysMsg, welcomeVip, welcomeGuard, wishBottle, roomRank, guardBuy, blockUser, silentOn, silentOff, popularity];
var registry = fromPairs(transformers.map(function (t) {
  return [t.cmd, t];
}));
module.exports = {
  transformers,
  registry
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9hcHBsaWNhdGlvbi9kZWZpbml0aW9ucy5qcyJdLCJuYW1lcyI6WyJyZXF1aXJlIiwiZnJvbVBhaXJzIiwiVHJhbnNmb3JtZXIiLCJjb21waWxlIiwiYXNGbGFnIiwib25XaGVuIiwib24iLCJvbkV4aXN0Iiwic3ByZWFkIiwic3ByZWFkT2JqIiwibGl2ZUVuZCIsInBhcnNlSW50IiwibGl2ZVN0YXJ0IiwiZGFubWFrdSIsIm0iLCJpbmZvIiwidGltZXN0YW1wIiwiaSIsImNvbnRlbnQiLCJzZW5kZXIiLCJiYWRnZSIsInVsIiwicmFua2luZyIsInUiLCJsZXZlbCIsIm1lZGFsIiwidXNlclNyYyIsInBhcnNlVG9wVXNlciIsImdpZnQiLCJkYXRhIiwibGVmdCIsImdvbGQiLCJzaWx2ZXIiLCJ0b3BMaXN0IiwiZCIsInRvcF9saXN0IiwibWFwIiwidGVtcG9TdG9ybSIsInN0b3JtIiwiYWN0aW9uIiwiY29tYm9FbmQiLCJndWFyZE1zZyIsInN5c01zZyIsIndlbGNvbWVWaXAiLCJpc1ZpcCIsInZpcCIsInN2aXAiLCJpc1N2aXAiLCJ3ZWxjb21lR3VhcmQiLCJ3aXNoQm90dGxlIiwid2lzaCIsInN0ciIsIkRhdGUiLCJnZXRUaW1lIiwicm9vbVJhbmsiLCJndWFyZEJ1eSIsImJ1eWVyIiwidW5kZWZpbmVkIiwiYmxvY2tVc2VyIiwicm9vbUlkIiwicm9vbWlkIiwiYmxvY2tlZCIsInNpbGVudE9uIiwibXNnIiwidHlwZSIsInNpbGVudE9mZiIsInBvcHVsYXJpdHkiLCJjb3VudCIsInRyYW5zZm9ybWVycyIsInJlZ2lzdHJ5IiwidCIsImNtZCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7Ozs7QUFBQTs7Ozs7Ozs7Ozs7Ozs7O2VBZ0JzQkEsT0FBTyxDQUFDLFFBQUQsQztJQUFyQkMsUyxZQUFBQSxTOztBQUVSLElBQU1DLFdBQVcsR0FBR0YsT0FBTyxDQUFDLGVBQUQsQ0FBM0I7O0FBQ0EsSUFBTUcsT0FBTyxHQUFHSCxP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LENBR0NrQyxHQUhELENBRjJEO0FBQUEsQ0FBakQsQ0FBakI7QUFPQSxJQUFNRSxTQUFTLEdBQUcsSUFBSS9ELFdBQUosQ0FBZ0IsaUJBQWhCLEVBQW1DLFdBQW5DLEVBQWdETyxTQUFTLENBQUMsQ0FBQyxRQUFELEVBQVdFLFFBQVgsRUFBcUIsUUFBckIsQ0FBRCxDQUF6RCxDQUFsQjtBQUNBLElBQU11RCxVQUFVLEdBQUcsSUFBSWhFLFdBQUosQ0FBZ0IsWUFBaEIsRUFBOEIsWUFBOUIsRUFBNEM7QUFDM0RpRSxFQUFBQSxLQUFLLEVBQUUsZUFBQWpDLENBQUM7QUFBQSxXQUFLQSxDQUFDLENBQUNMLElBQUYsSUFBVUssQ0FBQyxDQUFDTCxJQUFGLENBQU9zQyxLQUFsQixJQUE0QixDQUFoQztBQUFBO0FBRG1ELENBQTVDLENBQW5CO0FBSUEsSUFBTUMsWUFBWSxHQUFHLENBQ2pCeEQsU0FEaUIsRUFFakJGLE9BRmlCLEVBR2pCRyxPQUhpQixFQUlqQmUsSUFKaUIsRUFLakJTLFVBTGlCLEVBTWpCRyxRQU5pQixFQU9qQkMsUUFQaUIsRUFRakJDLE1BUmlCLEVBU2pCQyxVQVRpQixFQVVqQkssWUFWaUIsRUFXakJDLFVBWGlCLEVBWWpCSyxRQVppQixFQWFqQkMsUUFiaUIsRUFjakJHLFNBZGlCLEVBZWpCSSxRQWZpQixFQWdCakJHLFNBaEJpQixFQWlCakJDLFVBakJpQixDQUFyQjtBQW1CQSxJQUFNRyxRQUFRLEdBQUdwRSxTQUFTLENBQUNtRSxZQUFZLENBQUNoQyxHQUFiLENBQWlCLFVBQUFrQyxDQUFDO0FBQUEsU0FBSSxDQUFDQSxDQUFDLENBQUNDLEdBQUgsRUFBUUQsQ0FBUixDQUFKO0FBQUEsQ0FBbEIsQ0FBRCxDQUExQjtBQUVBRSxNQUFNLENBQUNDLE9BQVAsR0FBaUI7QUFBRUwsRUFBQUEsWUFBRjtBQUFnQkMsRUFBQUE7QUFBaEIsQ0FBakIiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogZGVmaW5pdGlvbnMuanMgZGVzY3JpYmVzIHRoZSBEZWZpbml0aW9ucyBvZiBBcHBsaWNhdGlvbiBFdmVudHMuXHJcbiAqIEZvciB0aGUgY29uY2VwdCBvZiBEZWZpbml0aW9uLCBzZWUgY29tcGlsZS5qcy5cclxuICogRm9yIHRoZSBjb25jZXB0IG9mIEFwcGxpY2F0aW9uIEV2ZW50cywgc2VlIFdpa2kgcGFnZSAnQXBwbGljYXRpb24gUHJvdG9jb2wnLlxyXG4gKlxyXG4gKiBUaGlzIGZpbGUgZG9lcyBub3QgY29udGFpbiBtdWNoIGRvY3VtZW50YXRpb24gYmVjYXVzZTpcclxuICogLSBJdCBtYWtlcyB1c2Ugb2YgVHJhbXNmb3JtZXIuanMsIGNvbXBpbGUuanMgYW5kIGhlbHBlcnMuanMsIHdoaWNoIGFyZSB3ZWxsLVxyXG4gKiAgIGRvY3VtZW50ZWQuXHJcbiAqIC0gVGhlIGNvZGUgb2YgRGVmaW5pdGlvbnMgYXJlIHZlcnkgZWFzeSB0byByZWFkIGFuZCB1bmRlcnN0YW5kLlxyXG4gKiAtIFRoZSBkZXRhaWxzIG9mIGhvdyBKU09OcyBiZWZvcmUgdHJhbnNmb3JtYXRpb24gbG9vayBsaWtlIGFuZCBob3cgRXZlbnRzXHJcbiAqICAgYWZ0ZXIgdHJhbnNmb3JtYXRpb24gbG9vayBsaWtlIGFyZSBkb2N1bWVudGVkIGluIGEgc2VwYXJhdGUgV2lraSBwYWdlXHJcbiAqICAgJ0V2ZW50cycuIFRoYXQgc2hvdWxkIGJlIHRoZSBmaXJzdCBzb3VyY2Ugb2YgaW5mb3JtYXRpb24sIG5vdCB0aGlzIGZpbGUuXHJcbiAqXHJcbiAqIFRoZXJlZm9yZSwgdGhlIGZvbGxvd2luZyB0cmFuc2Zvcm1lcnMgYXJlIE5PVCBkb2N1bWVudGVkLiBNeSBhcG9sb2dpZXMuXHJcbiAqL1xyXG5cclxuY29uc3QgeyBmcm9tUGFpcnMgfSA9IHJlcXVpcmUoJ2xvZGFzaCcpO1xyXG5cclxuY29uc3QgVHJhbnNmb3JtZXIgPSByZXF1aXJlKCcuL1RyYW5zZm9ybWVyJyk7XHJcbmNvbnN0IGNvbXBpbGUgPSByZXF1aXJlKCcuLi91dGlsL2NvbXBpbGUnKTtcclxuY29uc3QgeyBhc0ZsYWcsIG9uV2hlbiwgb24sIG9uRXhpc3QsIHNwcmVhZCwgc3ByZWFkT2JqIH0gPSByZXF1aXJlKCcuLi91dGlsL2hlbHBlcnMnKTtcclxuXHJcbi8vIGxpdmUgc3RhcnQgJiBlbmRcclxuY29uc3QgbGl2ZUVuZCA9IG5ldyBUcmFuc2Zvcm1lcignUFJFUEFSSU5HJywgJ2xpdmVFbmQnLCBzcHJlYWRPYmooWydyb29taWQnLCBwYXJzZUludCwgJ3Jvb21JZCddKSk7XHJcbmNvbnN0IGxpdmVTdGFydCA9IG5ldyBUcmFuc2Zvcm1lcignTElWRScsICdsaXZlU3RhcnQnLCBzcHJlYWRPYmooWydyb29taWQnLCBwYXJzZUludCwgJ3Jvb21JZCddKSk7XHJcblxyXG4vLyBkYW5tYWt1XHJcbmNvbnN0IGRhbm1ha3UgPSBuZXcgVHJhbnNmb3JtZXIoJ0RBTk1VX01TRycsICdkYW5tYWt1Jywgb24obSA9PiBtLmluZm8sIHtcclxuICAgIHRpbWVzdGFtcDogaSA9PiBpWzBdWzNdLFxyXG4gICAgY29udGVudDogaSA9PiBpWzFdLFxyXG4gICAgc2VuZGVyOiBvbihpID0+IGlbMl0sIHNwcmVhZCgndWlkJywgJ25hbWUnLCBbJ2lzT3duZXInLCBhc0ZsYWddLCBbJ2lzVmlwJywgYXNGbGFnXSwgWydpc1N2aXAnLCBhc0ZsYWddKSksXHJcbiAgICBiYWRnZTogb25FeGlzdChpID0+IGlbM10sIHNwcmVhZCgnbGV2ZWwnLCAnbmFtZScsICdvd25lcicsICdyb29tSWQnKSksXHJcbiAgICB1bDogb24oaSA9PiBpWzRdLCB7XHJcbiAgICAgICAgcmFua2luZzogdSA9PiB1WzNdLFxyXG4gICAgICAgIGxldmVsOiB1ID0+IHVbMF0sXHJcbiAgICB9KSxcclxuICAgIG1lZGFsOiBvbkV4aXN0KGkgPT4gaVs1XSwgc3ByZWFkKCdmaXJzdCcsICdzZWNvbmQnKSksXHJcbn0pKTtcclxuXHJcbi8vIGdpZnRcclxuY29uc3QgdXNlclNyYyA9IHNwcmVhZE9iaignZmFjZScsICd1aWQnLCAnZ3VhcmRfbGV2ZWwnLCBbJ3VuYW1lJywgMCwgJ25hbWUnXSk7XHJcbmNvbnN0IHBhcnNlVG9wVXNlciA9IGNvbXBpbGUoe1xyXG4gICAgLi4udXNlclNyYywgLi4uc3ByZWFkT2JqKCdyYW5rJywgWydzY29yZScsIDAsICdzcGVudENvaW5zJ10sIFsnaXNTZWxmJywgYXNGbGFnXSksXHJcbn0pO1xyXG5jb25zdCBnaWZ0ID0gbmV3IFRyYW5zZm9ybWVyKCdTRU5EX0dJRlQnLCAnZ2lmdCcsIG9uKG0gPT4gbS5kYXRhLCB7XHJcbiAgICAuLi5zcHJlYWRPYmooXHJcbiAgICAgICAgJ251bScsICdyZW1haW4nLCAnYWN0aW9uJywgJ3RpbWVzdGFtcCcsICdjb2luX3R5cGUnLCAndG90YWxfY29pbicsICdzdXBlcl9naWZ0X251bScsICdlZmZlY3RfYmxvY2snLFxyXG4gICAgKSxcclxuICAgIGdpZnQ6IHNwcmVhZE9iaihbJ2dpZnROYW1lJywgMCwgJ25hbWUnXSwgWydnaWZ0SWQnLCAwLCAnaWQnXSwgWydnaWZ0VHlwZScsIDAsICd0eXBlJ10sICdwcmljZScpLFxyXG4gICAgc2VuZGVyOiB1c2VyU3JjLFxyXG4gICAgbGVmdDogb25XaGVuKG0gPT4gbSwgbSA9PiBtLmdvbGQgPiAwICYmIG0uc2lsdmVyID4gMCwgc3ByZWFkT2JqKCdnb2xkJywgJ3NpbHZlcicpKSxcclxuICAgIHRvcExpc3Q6IGQgPT4gZC50b3BfbGlzdC5tYXAocGFyc2VUb3BVc2VyKSxcclxufSkpO1xyXG5jb25zdCB0ZW1wb1N0b3JtID0gbmV3IFRyYW5zZm9ybWVyKCdTUEVDSUFMX0dJRlQnLCAndGVtcG9TdG9ybScsIG9uKG0gPT4gbS5kYXRhWzM5XSwge1xyXG4gICAgLi4uc3ByZWFkT2JqKCdhY3Rpb24nLCAnaWQnKSxcclxuICAgIHN0b3JtOiBvbldoZW4oZCA9PiBkLCBkID0+IGQuYWN0aW9uID09PSAnc3RhcnQnLCBzcHJlYWRPYmooXHJcbiAgICAgICAgJ2NvbnRlbnQnLCAndGltZScsICdzdG9ybV9naWYnLCBbJ2hhZEpvaW4nLCAwLCAnam9pbmVkJ10sICdudW0nLFxyXG4gICAgKSksXHJcbn0pKTtcclxuY29uc3QgY29tYm9FbmQgPSBuZXcgVHJhbnNmb3JtZXIoJ0NPTUJPX0VORCcsICdjb21ib0VuZCcsIG9uKG0gPT4gbS5kYXRhLCBzcHJlYWRPYmooXHJcbiAgICAncHJpY2UnLCAnZ2lmdF9pZCcsICdnaWZ0X25hbWUnLCAnY29tYm9fbnVtJywgJ3ByaWNlJywgJ2dpZnRfaWQnLCAnc3RhcnRfdGltZScsICdlbmRfdGltZScsXHJcbiAgICBbJ3VuYW1lJywgMCwgJ25hbWUnXSwgWydyX3VuYW1lJywgMCwgJ293bmVyJ10sXHJcbikpKTtcclxuXHJcbi8vIGJyb2FkY2FzdCBtZXNzYWdlXHJcbmNvbnN0IGd1YXJkTXNnID0gbmV3IFRyYW5zZm9ybWVyKCdHVUFSRF9NU0cnLCAnZ3VhcmRNc2cnLCBzcHJlYWRPYmooJ21zZycsIFsnYnV5X3R5cGUnLCAwLCAnZ3VhcmRMZXZlbCddKSk7XHJcbmNvbnN0IHN5c01zZyA9IG5ldyBUcmFuc2Zvcm1lcignU1lTX01TRycsICdzeXNNc2cnLCBzcHJlYWRPYmooXHJcbiAgICAnbXNnJywgJ3JlcCcsICdzdHlsZVR5cGUnLCAndXJsJywgJ21zZ190ZXh0JyxcclxuICAgIFsncmVhbF9yb29taWQnLCAwLCAncmVhbFJvb21JZCddLCBbJ3Jvb21pZCcsIDAsICdyb29tSWQnXSxcclxuKSk7XHJcblxyXG4vLyB3ZWxjb21lXHJcbmNvbnN0IHdlbGNvbWVWaXAgPSBuZXcgVHJhbnNmb3JtZXIoJ1dFTENPTUUnLCAnd2VsY29tZVZpcCcsIG9uKG0gPT4gbS5kYXRhLCB7XHJcbiAgICAuLi5zcHJlYWRPYmooJ3VpZCcsIFsndW5hbWUnLCAwLCAnbmFtZSddLCBbJ2lzX2FkbWluJywgYXNGbGFnXSksXHJcbiAgICBpc1ZpcDogZCA9PiAoJ3ZpcCcgaW4gZCAmJiBkLnZpcCA9PT0gMSkgfHwgKCdzdmlwJyBpbiBkICYmIGQuc3ZpcCA9PT0gMSksXHJcbiAgICBpc1N2aXA6IGQgPT4gKCdzdmlwJyBpbiBkICYmIGQuc3ZpcCA9PT0gMSksXHJcbn0pKTtcclxuY29uc3Qgd2VsY29tZUd1YXJkID0gbmV3IFRyYW5zZm9ybWVyKCdXRUxDT01FX0dVQVJEJywgJ3dlbGNvbWVHdWFyZCcsIG9uKG0gPT4gbS5kYXRhLCBzcHJlYWRPYmooXHJcbiAgICAndWlkJywgJ2d1YXJkX2xldmVsJywgWyd1c2VybmFtZScsIDAsICduYW1lJ10sXHJcbikpKTtcclxuXHJcbi8vIGV2ZW50c1xyXG5jb25zdCB3aXNoQm90dGxlID0gbmV3IFRyYW5zZm9ybWVyKCdXSVNIX0JPVFRMRScsICd3aXNoQm90dGxlJywgb24obSA9PiBtLmRhdGEsIHtcclxuICAgIC4uLnNwcmVhZE9iaignYWN0aW9uJywgJ2lkJyksXHJcbiAgICB3aXNoOiBvbihtID0+IG0ud2lzaCwgc3ByZWFkT2JqKFxyXG4gICAgICAgICdjb250ZW50JywgJ3N0YXR1cycsICd0eXBlJywgJ3R5cGVfaWQnLCAndWlkJywgJ3dpc2hfbGltaXQnLCAnd2lzaF9wcm9ncmVzcycsICdjb3VudF9tYXAnLFxyXG4gICAgICAgIFsnY3RpbWUnLCBzdHIgPT4gbmV3IERhdGUoc3RyKS5nZXRUaW1lKCksICd0aW1lc3RhbXAnXSwgWyd1aWQnLCAwLCAnYW5jaG9yJ10sXHJcbiAgICApKSxcclxufSkpO1xyXG5jb25zdCByb29tUmFuayA9IG5ldyBUcmFuc2Zvcm1lcignUk9PTV9SQU5LJywgJ3Jvb21SYW5rJywgb24obSA9PiBtLmRhdGEsIHNwcmVhZE9iaihcclxuICAgICd0aW1lc3RhbXAnLCAnY29sb3InLCAnaDVfdXJsJywgJ3dlYl91cmwnLCBbJ3Jvb21pZCcsIDAsICdyb29tSWQnXSwgWydyYW5rX2Rlc2MnLCAwLCAncmFuayddLFxyXG4pKSk7XHJcbmNvbnN0IGd1YXJkQnV5ID0gbmV3IFRyYW5zZm9ybWVyKCdHVUFSRF9CVVknLCAnZ3VhcmRCdXknLCB7XHJcbiAgICAuLi5vbihtID0+IG0uZGF0YSwge1xyXG4gICAgICAgIC4uLnNwcmVhZE9iaignZ3VhcmRfbGV2ZWwnLCAnbnVtJyksXHJcbiAgICAgICAgYnV5ZXI6IHNwcmVhZE9iaihbJ3VzZXJuYW1lJywgdW5kZWZpbmVkLCAoKSA9PiAnbmFtZSddLCAndWlkJyksXHJcbiAgICB9KSxcclxuICAgIC4uLnNwcmVhZE9iaihbJ3Jvb21pZCcsIHBhcnNlSW50LCAoKSA9PiAncm9vbUlkJ10pLFxyXG59KTtcclxuXHJcbi8vIGJsb2NraW5nXHJcbmNvbnN0IGJsb2NrVXNlciA9IG5ldyBUcmFuc2Zvcm1lcignUk9PTV9CTE9DS19NU0cnLCAnYmxvY2tVc2VyJywge1xyXG4gICAgcm9vbUlkOiBtID0+IG0ucm9vbWlkLCBibG9ja2VkOiBzcHJlYWRPYmooWyd1aWQnLCBwYXJzZUludF0sIFsndW5hbWUnLCAwLCAnbmFtZSddKSxcclxufSk7XHJcbmNvbnN0IHNpbGVudE9uID0gbmV3IFRyYW5zZm9ybWVyKCdST09NX1NJTEVOVF9PTicsICdzaWxlbnRPbicsIG1zZyA9PiAoe1xyXG4gICAgcm9vbUlkOiBtc2cucm9vbWlkLFxyXG4gICAgLi4ub24obSA9PiBtLmRhdGEsIGRhdGEgPT4gKHtcclxuICAgICAgICAuLi5jb21waWxlKHNwcmVhZE9iaigndHlwZScsICdzZWNvbmQnKSkoZGF0YSksXHJcbiAgICAgICAgLi4ub25XaGVuKGQgPT4gZCwgZCA9PiBkLnR5cGUgPT09ICdsZXZlbCcsIHNwcmVhZE9iaignbGV2ZWwnKSkoZGF0YSksXHJcbiAgICB9KSkobXNnKSxcclxufSkpO1xyXG5jb25zdCBzaWxlbnRPZmYgPSBuZXcgVHJhbnNmb3JtZXIoJ1JPT01fU0lMRU5UX09GRicsICdzaWxlbnRPZmYnLCBzcHJlYWRPYmooWydyb29taWQnLCBwYXJzZUludCwgJ3Jvb21JZCddKSk7XHJcbmNvbnN0IHBvcHVsYXJpdHkgPSBuZXcgVHJhbnNmb3JtZXIoJ1BPUFVMQVJJVFknLCAncG9wdWxhcml0eScsIHtcclxuICAgIGNvdW50OiBkID0+IChkLmRhdGEgJiYgZC5kYXRhLmNvdW50KSB8fCAwLFxyXG59KTtcclxuXHJcbmNvbnN0IHRyYW5zZm9ybWVycyA9IFtcclxuICAgIGxpdmVTdGFydCxcclxuICAgIGxpdmVFbmQsXHJcbiAgICBkYW5tYWt1LFxyXG4gICAgZ2lmdCxcclxuICAgIHRlbXBvU3Rvcm0sXHJcbiAgICBjb21ib0VuZCxcclxuICAgIGd1YXJkTXNnLFxyXG4gICAgc3lzTXNnLFxyXG4gICAgd2VsY29tZVZpcCxcclxuICAgIHdlbGNvbWVHdWFyZCxcclxuICAgIHdpc2hCb3R0bGUsXHJcbiAgICByb29tUmFuayxcclxuICAgIGd1YXJkQnV5LFxyXG4gICAgYmxvY2tVc2VyLFxyXG4gICAgc2lsZW50T24sXHJcbiAgICBzaWxlbnRPZmYsXHJcbiAgICBwb3B1bGFyaXR5LFxyXG5dO1xyXG5jb25zdCByZWdpc3RyeSA9IGZyb21QYWlycyh0cmFuc2Zvcm1lcnMubWFwKHQgPT4gW3QuY21kLCB0XSkpO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7IHRyYW5zZm9ybWVycywgcmVnaXN0cnkgfTtcclxuIl19